(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(23),i=n.n(o),c=(n(89),n(13)),l=n(35),s=n(33),u=n(2),d=n(4),g=n(6),p=n(5),m=n(7),f=n(8),h=n(30),b=n(55),y=n(37),O=n(47),j=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={active:"container"},n}return Object(f.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname;"/"===e&&(e="containers"),this.setState({active:e.replace("/","")})}},{key:"navButton",value:function(e,t){return r.a.createElement(h.a,{display:"flex",alignItems:"center"},r.a.createElement(b.a,{size:14,color:"muted",icon:t,marginRight:5}),e)}},{key:"render",value:function(){var e,t=this,n=this.state.active;return r.a.createElement(y.a,{display:"flex",justifyContent:"center",padding:26,background:"#f9f9fc"},r.a.createElement(O.a,{height:48,width:250,justifyContent:"center",alignItems:"center",fontSize:14,borderTopRightRadius:0,appearance:"containers"===n?"primary":"default",borderBottomRightRadius:0,is:l.b,to:"/",onClick:function(){return t.setState({active:"containers"})}},r.a.createElement(b.a,{icon:"layers",marginRight:5,size:14})," Container"),r.a.createElement(O.a,{height:48,width:250,justifyContent:"center",alignItems:"center",fontSize:14,borderTopLeftRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,appearance:"images"===n?"primary":"default",borderBottomRightRadius:0,is:l.b,to:"/images",onClick:function(){return t.setState({active:"images"})}},r.a.createElement(b.a,{icon:"projects",marginRight:5,size:14})," Image"),r.a.createElement(O.a,(e={height:48,width:250,justifyContent:"center",alignItems:"center",fontSize:14,borderTopLeftRadius:0,appearance:"default",borderBottomLeftRadius:0},Object(u.a)(e,"appearance","cleanup"===n?"primary":"default"),Object(u.a)(e,"is",l.b),Object(u.a)(e,"to","/cleanup"),Object(u.a)(e,"onClick",function(){return t.setState({active:"cleanup"})}),e),r.a.createElement(b.a,{icon:"shield",marginRight:5,size:14})," Clean-up"))}}]),t}(r.a.PureComponent),E=Object(s.f)(j),v=n(220),w=n(199),S=n(12),I=n(76),C=n.n(I),D="http://"+window.location.hostname+":3230/api/",L=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={method:e,data:n,url:D+t,timeout:5e4};return C()(a)},k=n(218);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var G=function(e){return{type:"GENERIC_CONTAINER",payload:e}},R=function(e){return{type:"UPDATE_CONTAINER",payload:e}},T=function(e){return{type:"UPDATE_LOG",payload:e}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"active";return function(t){t(G({loading:e,pageError:!1,segment:e,activeIndex:0,containerListLoading:!0})),L("get","container/fetch?status=".concat(e),{}).then(function(e){t(G({loading:!1,containers:e.data,pageError:!1,containerListLoading:!1}))}).catch(function(e){t(G({loading:!1,pageError:!0,containerListLoading:!1}))})}},M=function(e,t,n){return function(a){a(R({containerId:e.shortId,data:{stateToggling:!0}})),L("get","container/command?container=".concat(e.shortId,"&command=").concat(t)).then(function(r){var o=P({},e.State,{},{Running:"start"===t});a(R({containerId:e.shortId,data:{State:o,stateToggling:!1}})),n||k.a.success("Container ".concat(e.Name," has been ").concat("start"===t?"started":"stopped","."),{duration:5})}).catch(function(n){a(R({containerId:e.shortId,data:{stateToggling:!1}})),k.a.warning("There is problem ".concat("start"===t?"starting":"stopping"," container ").concat(e.Name),{duration:5})})}},A=function(e,t){return function(n){n(R({containerId:e.shortId,data:{stateToggling:!0,State:P({},e.State,{},{Running:!1})}})),L("get","container/command?container=".concat(e.shortId,"&command=").concat(t)).then(function(t){n(R({containerId:e.shortId,data:{State:P({},e.State,{},{Running:!0}),stateToggling:!1}})),k.a.success("Container ".concat(e.Name," has been restarted."),{duration:5})}).catch(function(t){n(R({containerId:e.shortId,data:{State:P({},e.State,{},{Running:!1}),stateToggling:!1}})),k.a.warning("There is problem restarting container ".concat(e.Name),{duration:5})})}},z=function(e,t){return function(n,a){L("get","container/command?container=".concat(e.shortId,"&command=").concat(t)).then(function(t){n({type:"DELETE_CONTAINER",payload:{containerId:e.shortId,showModal:!a().container.showModal,selectedContainer:{}}}),k.a.success("Container ".concat(e.Name," is no more!!!."),{duration:5})})}},_=function(e){return function(t){t(T({container:e,isShowingSideSheet:!1})),L("get","container/logs?container=".concat(e.shortId)).then(function(n){t(T({container:e,isShowingSideSheet:!0,logData:n.data}))})}},B=function(){return function(e,t){e(T({isShowingSideSheet:!t().container.isShowingSideSheet}))}},F=function(e){return function(t,n){t({type:"TOGGLE_MODAL",payload:{showModal:!n().container.showModal,selectedContainer:e||{}}})}},U=n(41),W=n(77),V={stats:{containerStats:[],isLive:!1},groups:{groups:[],selectedItems:[],showGroupsPage:!1,showNewGroupForm:!1,activeIndex:0,newGroupName:"",createFormLoading:!1,groupListLoading:!0,groupsRunning:[],groupsSwitchDisabled:[]},container:{containers:[],loading:!1,containerListLoading:!0,pageError:!1,segment:"active",activeIndex:0,isShowingSideSheet:!1,logData:{},showModal:!1,selectedContainer:{}},image:{images:[],loading:!1,pageError:!1,activeIndex:0,isShowingSideSheet:!1,logData:{},showModal:!1,selectedImage:{}},cleanup:{segmentOptions:[{label:"Prune Images",value:"image",message:"This action will allow you to clean up unused images. It cleans up dangling images. A dangling image is one that is not tagged and is not referenced by any container."},{label:"Prune Containers",value:"container",message:"When you stop a container, it is not automatically removed unless you started it with the --rm flag. A stopped container\u2019s writable layers still take up disk space."},{label:"Prune Volumes",value:"volume",message:"Volumes can be used by one or more containers, and take up space on the Docker host. Volumes are never removed automatically, because to do so could destroy data."},{label:"Prune System",value:"system",message:"Remove all unused containers, networks, images (both dangling and unreferenced), and optionally, volumes."}],selectedSegment:{label:"Prune Images",value:"image",message:"This action will allow you to clean up unused images. It cleans up dangling images. A dangling image is one that is not tagged and is not referenced by any container."},responseData:{},isShowingSideSheet:!1,apiCallStarted:!1}};function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var te=Object(S.c)({stats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GENERIC_STATS":return J({},e,{},t.payload);default:return e}},groups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GENERIC_GROUPS":return Y({},e,{},t.payload);default:return e}},container:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GENERIC_CONTAINER":return q({},e,{},t.payload);case"UPDATE_CONTAINER":return q({},e,{},{containers:e.containers.map(function(e){return e.shortId==t.payload.containerId?q({},e,{},t.payload.data):e})});case"DELETE_CONTAINER":return q({},e,{},{containers:e.containers.filter(function(e){return e.shortId!==t.payload.containerId}),showModal:t.payload.showModal,selectedContainer:t.payload.selectedContainer});case"UPDATE_LOG":return q({},e,{},{logData:t.payload.logData&&t.payload.container?{container:t.payload.container,data:t.payload.logData}:{},isShowingSideSheet:t.payload.isShowingSideSheet});case"TOGGLE_MODAL":return q({},e,{},{showModal:t.payload.showModal,selectedContainer:t.payload.selectedContainer});default:return e}},image:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GENERIC_IMAGE":return Q({},e,{},t.payload);case"RUN_IMAGE":return Q({},e,{},{images:e.images.map(function(e){return e.ID==t.payload.imageId?Q({},e,{},t.payload.data):e})});case"DELETE_IMAGE":return Q({},e,{},{images:e.images.filter(function(e){return t.payload.imageId?e.ID!==t.payload.imageId:e}),showModal:t.payload.showModal,selectedImage:t.payload.selectedImage});case"TOGGLE_IMAGE_MODAL":return Q({},e,{},{showModal:t.payload.showModal,selectedImage:t.payload.selectedImage});default:return e}},cleanup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECTED_SEGMENT":return ee({},e,{},{selectedSegment:e.segmentOptions.find(function(e){return e.value===t.payload.segmentValue})});case"EXECUTE_PRUNE":return ee({},e,{},{isShowingSideSheet:t.payload.isShowingSideSheet,responseData:t.payload.responseData?{data:t.payload.responseData}:{},apiCallStarted:t.payload.apiCallStarted});default:return e}}}),ne=[W.a],ae=Object(S.d)(function(e,t){return te(e,t)},V,S.a.apply(void 0,ne)),re=function(e){return{type:"GENERIC_GROUPS",payload:e}},oe=function(e){return function(t){var n=ae.getState().groups.selectedItems;if(n.includes(e)){var a=n.filter(function(t){return t!=e});t(re({selectedItems:a}))}else{var r=[].concat(Object(U.a)(n),[e]);t(re({selectedItems:r}))}}},ie=function(e,t,n){return function(a){var r=ae.getState().groups[e];if(n){var o=r.filter(function(e){return e!=t});a(re(Object(u.a)({},e,o)))}else{var i=[].concat(Object(U.a)(r),[t]);a(re(Object(u.a)({},e,i)))}}},ce=function(e){return function(t){t(re({createFormLoading:!0})),L("post","groups",{name:e.newGroupName,containers:e.selectedItems}).then(function(e){setTimeout(function(){t(re({newGroupName:"",selectedItems:[],showGroupsPage:!0,showNewGroupForm:!1,createFormLoading:!1}))},1200)})}},le=function(){return function(e){e(re({groupListLoading:!0})),L("get","groups",{}).then(function(t){e(re({groups:t.data,groupListLoading:!1}))})}},se=function(e){return function(t){L("delete","groups",{id:e}).then(function(e){t(le())})}},ue=n(212),de=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={toggleLink:!1},n}return Object(f.a)(t,e),Object(g.a)(t,[{key:"handleSubmit",value:function(){var e=this.props;(0,e.createGroup)({newGroupName:e.newGroupName,selectedItems:e.selectedItems})}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectedItems,a=t.newGroupName,o=t.genericGroups,i=t.createFormLoading;return r.a.createElement(y.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(y.a,null,r.a.createElement(ue.a,{name:"text-input-name",placeholder:"New Group Name",height:26,display:"flex",flexGrow:1,onChange:function(e){o({newGroupName:e.target.value})},value:a}),this.state.toggleLink&&r.a.createElement(ue.a,{name:"text-input-name",placeholder:"URL of the application",height:26,marginTop:6,display:"flex",flexGrow:1,onChange:function(e){o({newGroupName:e.target.value})},value:a})),r.a.createElement(y.a,{display:"flex",style:{height:"100%"}},r.a.createElement(O.a,{height:26,appearance:"primary",marginLeft:6,intent:"success",disabled:n.length<=0||""===a,isLoading:i,onClick:function(t){t.preventDefault(),e.handleSubmit()}},"Create Group")))}}]),t}(r.a.PureComponent),ge=Object(c.b)(function(e){return{newGroupName:e.groups.newGroupName,selectedItems:e.groups.selectedItems,createFormLoading:e.groups.createFormLoading}},function(e){return Object(S.b)({createGroup:ce,genericGroups:re},e)})(de),pe=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(g.a)(t,[{key:"containerFilters",value:function(){var e=this.props,t=e.loading,n=e.segment,a=e.getContainers;return r.a.createElement(v.a,{width:400,height:26,options:[{label:"all"===t?r.a.createElement(w.a,{size:16}):"All",value:"all"},{label:"active"===t?r.a.createElement(w.a,{size:16}):"Active",value:"active"},{label:"stopped"===t?r.a.createElement(w.a,{size:16}):"Stopped",value:"stopped"}],value:n,onChange:function(e){a(e)}})}},{key:"newGroupButton",value:function(){var e=this.props,t=e.showNewGroupForm,n=e.genericGroups,a=e.getContainers;return r.a.createElement(O.a,{marginRight:12,iconBefore:"add",paddingLeft:35,paddingRight:30,height:26,onClick:function(){var e=!t;n({showGroupsPage:!1,showNewGroupForm:e}),e&&a("all")}},"Create New Group")}},{key:"groupsToggler",value:function(){var e=this.props,t=e.genericGroups,n=e.showGroupsPage,a=e.showNewGroupForm,o=n||a;return r.a.createElement(O.a,{marginRight:12,iconBefore:o?"chevron-left":"tag",paddingLeft:35,paddingRight:30,height:26,onClick:function(){t({showGroupsPage:!n,showNewGroupForm:!1})}},o?"Back":"Groups")}},{key:"renderBody",value:function(){var e=this.props,t=e.showNewGroupForm,n=e.showGroupsPage;return t?r.a.createElement(ge,null):n?this.newGroupButton():this.containerFilters()}},{key:"render",value:function(){return r.a.createElement(y.a,{backgroundColor:"#f1f1f1",display:"flex",justifyContent:"center",padding:10},this.groupsToggler(),this.renderBody())}}]),t}(r.a.PureComponent),me=Object(c.b)(function(e){return{segment:e.container.segment,loading:e.container.loading,showGroupsPage:e.groups.showGroupsPage,showNewGroupForm:e.groups.showNewGroupForm}},function(e){return Object(S.b)({getContainers:N,genericGroups:re},e)})(pe),fe=n(200),he=n(221),be=(n(43),n(213)),ye=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.container,n=e.toggleContainer,a=t.State.Running?"stop":"start",o=!!t.stateToggling;return r.a.createElement(be.a,{marginRight:10,height:18,marginTop:2,checked:t.State.Running,disabled:o,onChange:function(){n(t,a)}})}}]),t}(r.a.PureComponent),Oe=Object(c.b)(null,function(e){return Object(S.b)({toggleContainer:M},e)})(ye),je=n(214),Ee=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.groupItemSelector,n=e.selectedItems,a=this.props.container.shortId,o=n.includes(a);return r.a.createElement(je.a,{marginRight:15,marginTop:0,marginBottom:0,checked:o,onChange:function(){t(a)}})}}]),t}(r.a.PureComponent),ve=Object(c.b)(function(e){return{selectedItems:e.groups.selectedItems}},function(e){return Object(S.b)({groupItemSelector:oe},e)})(Ee),we=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.container,n=e.restartContainer,a=!!t.stateToggling;return r.a.createElement(O.a,{marginRight:5,height:22,iconBefore:"refresh",disabled:a,onClick:function(){n(t,"restart")}},"Restart")}}]),t}(r.a.PureComponent),Se=Object(c.b)(null,function(e){return Object(S.b)({restartContainer:A},e)})(we),Ie=n(46),Ce=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(g.a)(t,[{key:"getMemoryUsage",value:function(e){var t=e.split("/"),n=(e=Object(Ie.a)(t,1)[0]).replace(/[a-zA-Z]/g,"").trim();return Number(n).toFixed(1)+"mb"}},{key:"renderBadges",value:function(){var e=this.props,t=e.stats,n=e.containerID,a=t.find(function(e){return e.id===n});return a?r.a.createElement(r.a.Fragment,null,r.a.createElement(he.a,{backgroundColor:"#deebf7",fontWeight:"bold",borderRadius:16,paddingLeft:10,fontSize:11,paddingRight:10,marginLeft:10,marginTop:3},"cpu ",a.cpu_percentage),r.a.createElement(he.a,{backgroundColor:"#ebe7f8",fontWeight:"bold",borderRadius:16,paddingLeft:10,fontSize:11,paddingRight:10,marginLeft:10,marginTop:3},"ram ",this.getMemoryUsage(a.memory_usage)),r.a.createElement(he.a,{backgroundColor:"#ebe7f8",fontWeight:"bold",borderRadius:16,paddingLeft:10,fontSize:11,paddingRight:10,marginLeft:10,marginTop:3},"net ",this.getMemoryUsage(a.network_io))):null}},{key:"render",value:function(){return this.renderBadges()}}]),t}(r.a.PureComponent),De=Object(c.b)(function(e){return{stats:e.stats.containerStats}},null)(Ce),Le=n(217),ke=n(78),xe=n.n(ke);Le.a.locale(xe.a);var Pe=new Le.a("en-US"),Ge=function(e){var t=Pe.format(new Date(e.time),"twitter");return r.a.createElement(he.a,{backgroundColor:"#d4eee3",fontWeight:"bold",borderRadius:16,paddingLeft:10,fontSize:11,paddingRight:10,marginLeft:10,marginTop:3},""===t.trim()?"now":t)},Re=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(g.a)(t,[{key:"actionButtons",value:function(e){var t=this.props,n=t.container,a=t.showNewGroupForm,o=t.toggleDeleteModal,i=t.getLog;if(!a)return e?r.a.createElement(y.a,{display:"flex",marginTop:12,marginLeft:46},r.a.createElement(Se,{container:n}),r.a.createElement(O.a,{marginRight:5,height:22,iconBefore:"application",onClick:function(){i(n)}},"Log"),r.a.createElement(O.a,{marginRight:5,height:22,iconBefore:"trash",disabled:n.State.Running,onClick:function(){o(n)}},"Delete")):null}},{key:"renderStats",value:function(e){if(!this.props.showNewGroupForm&&e.State.Running)return r.a.createElement(De,{containerID:e.shortId})}},{key:"renderInfo",value:function(e){var t=this.props.showStatsInNewLine,n=t?35:0,a=t?5:0;return r.a.createElement(y.a,{display:"flex",marginLeft:n,marginTop:a},this.renderStats(e))}},{key:"render",value:function(){var e=this.props,t=e.container,n=e.activeIndex,a=e.genericContainer,o=e.index,i=e.showNewGroupForm,c=e.noHoverStyle,l=e.showStatsInNewLine,s=n==o,u="element-card";c||s&&(u+=" card-active");var d=l?"column":"row";return r.a.createElement(y.a,{display:"flex",flexDirection:"column",flexGrow:1,padding:12,borderRadius:6,border:"default",className:u,onMouseEnter:function(){return a({activeIndex:o})}},r.a.createElement(y.a,{display:"flex",flexDirection:d},r.a.createElement(y.a,{display:"flex",alignItems:"flex-start"},i?r.a.createElement(ve,{container:t}):r.a.createElement(Oe,{container:t}),r.a.createElement(fe.a,{size:400},t.Name),r.a.createElement(he.a,{backgroundColor:"#e7e9ef",fontWeight:"bold",borderRadius:16,paddingLeft:10,fontSize:11,paddingRight:10,marginLeft:10,marginTop:3},t.shortId),r.a.createElement(Ge,{time:t.Created})),this.renderInfo(t)),this.actionButtons(s))}}]),t}(r.a.PureComponent),Te=Object(c.b)(function(e){return{activeIndex:e.container.activeIndex,showNewGroupForm:e.groups.showNewGroupForm}},function(e){return Object(S.b)({genericContainer:G,getLog:_,toggleDeleteModal:F},e)})(Re),Ne=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.getContainers(this.props.segment)}},{key:"render",value:function(){var e=this.props.containers;return r.a.createElement(y.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:20},e.map(function(e,t){return r.a.createElement(Te,{key:t,index:t,container:e})}))}}]),t}(r.a.PureComponent),Me=Object(c.b)(function(e){return{segment:e.container.segment,containers:e.container.containers}},function(e){return Object(S.b)({getContainers:N},e)})(Ne),Ae=(n(196),function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(g.a)(t,[{key:"isRunning",value:function(){var e=this.props.containers,t=e.filter(function(e){return!0===e.State.Running});return e.length===t.length}},{key:"isLoading",value:function(){return 0===this.props.containers.filter(function(e){return!!e.stateToggling})}},{key:"toggleAllContainers",value:function(){var e=this.props,t=e.containers,n=e.toggleContainer,a=e.genericGroups,r=e.groupIndex,o=this.isRunning()?"stop":"start";a({activeIndex:r}),t.map(function(e){n(e,o,!0)})}},{key:"render",value:function(){var e=this,t=this.isRunning();return r.a.createElement(be.a,{marginRight:10,height:22,marginTop:2,checked:t,disabled:this.isLoading(),onChange:function(){e.toggleAllContainers()}})}}]),t}(r.a.PureComponent)),ze=Object(c.b)(function(e){return{activeIndex:e.groups.activeIndex}},function(e){return Object(S.b)({genericGroups:re,toggleContainer:M,groupStatusUpdater:ie},e)})(Ae),_e=n(215),Be=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={deleteModal:!1},n}return Object(f.a)(t,e),Object(g.a)(t,[{key:"renderDeleteModal",value:function(){var e=this,t=this.props,n=t.groupName,a=t.groupId,o=t.deleteGroup;return this.state.deleteModal?i.a.createPortal(r.a.createElement(_e.a,{isShown:this.state.deleteModal,title:"Confirmation",hasHeader:!1,intent:"danger",onConfirm:function(){o(a),e.setState({deleteModal:!1})},onCloseComplete:function(){return e.setState({deleteModal:!1})},confirmLabel:"Confirm"},r.a.createElement(fe.a,{size:500,marginTop:"default",marginBottom:"default"},"Are you sure you want to delete ",r.a.createElement(he.a,{color:"neutral"},n)," container group?")),document.body):null}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{marginRight:5,height:22,iconBefore:"trash",onClick:function(){e.setState({deleteModal:!e.state.deleteModal})}},"Delete Group"),this.renderDeleteModal())}}]),t}(r.a.PureComponent),Fe=Object(c.b)(null,function(e){return Object(S.b)({deleteGroup:se},e)})(Be),Ue=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(g.a)(t,[{key:"filterContainers",value:function(){var e=this.props,t=e.group,n=e.containers,a=JSON.parse(t.containers_id);return n.filter(function(e){return a.includes(e.shortId)})}},{key:"render",value:function(){var e=this.props,t=e.group,n=e.genericGroups,a=e.index,o=e.activeIndex,i=this.filterContainers();if(i.length<=0)return null;var c=o==a;return r.a.createElement(y.a,{display:"flex",flexDirection:"column",flexGrow:1,padding:12,borderRadius:6,marginBottom:16,border:"default",className:"element-card card-active"},r.a.createElement(y.a,{display:"flex",flexGrow:1,alignItems:"center"},r.a.createElement(y.a,{display:"flex",flexGrow:1,justifyContent:"center",alignItems:"center"},r.a.createElement(ze,{containers:i,groupIndex:a}),r.a.createElement(fe.a,{display:"flex",alignItems:"center",className:"groupOptToggler",onClick:function(){return n({activeIndex:a})},size:600},t.name,r.a.createElement(he.a,{marginLeft:6},i.length)),r.a.createElement(y.a,{display:"flex",flexGrow:1,justifyContent:"flex-end"},r.a.createElement(Fe,{groupName:t.name,groupId:t.id})))),c&&r.a.createElement(y.a,{marginLeft:30,marginTop:10},r.a.createElement(fe.a,{size:400,marginLeft:14,marginTop:10,color:"#999"},"All Containers"),i.map(function(e,t){return r.a.createElement(Te,{key:t,index:t,container:e,noHoverStyle:!0,showStatsInNewLine:!0})})))}}]),t}(r.a.PureComponent),We=Object(c.b)(function(e){return{containers:e.container.containers,activeIndex:e.groups.activeIndex}},function(e){return Object(S.b)({genericGroups:re},e)})(Ue),Ve=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getGroups,n=e.getContainers;t(),n("all")}},{key:"renderGroupsList",value:function(){var e=this.props,t=e.groups,n=e.groupListLoading,a=e.containerListLoading;return n&&a?r.a.createElement(fe.a,{size:600},"Please wait"):t.length<=0?r.a.createElement(fe.a,{size:600},"No groups found, please create a new one."):t.map(function(e,t){return r.a.createElement(We,{key:t,index:t,group:e})})}},{key:"render",value:function(){return r.a.createElement(y.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:20},this.renderGroupsList())}}]),t}(r.a.PureComponent),He=Object(c.b)(function(e){return{groups:e.groups.groups,groupListLoading:e.groups.groupListLoading,containerListLoading:e.container.containerListLoading}},function(e){return Object(S.b)({getGroups:le,getContainers:N},e)})(Ve),Je=function(e){return{type:"GENERIC_STATS",payload:e}},Xe=function(){return function(e){L("get","container/stats",{}).then(function(t){e(Je({containerStats:t.data}))}).catch(function(e){console.log(e)})}},Ye=n(219),Ze=n(201),qe=n(216),Ke=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isShowingSideSheet,n=e.logData,a=e.resetLogSideSheet;return r.a.createElement(Ye.a,{width:1e3,isShown:t,onCloseComplete:a,containerProps:{display:"flex",flex:"1",flexDirection:"column"}},r.a.createElement(y.a,{zIndex:1,flexShrink:0,elevation:0,backgroundColor:"white"},n&&n.container&&r.a.createElement(y.a,{padding:16},r.a.createElement(fe.a,{size:600},"Container logs"),r.a.createElement(Ze.a,{size:400},"Container Name: ".concat(n.container.Name))),!n.container&&r.a.createElement(y.a,{padding:16},r.a.createElement(fe.a,{size:600},"Prune response"))),r.a.createElement(y.a,{flex:"1",overflowY:"scroll",background:"tint1",padding:16},r.a.createElement(y.a,null,n&&r.a.createElement(qe.a,{marginTop:0},n.data))))}}]),t}(r.a.PureComponent),Qe=n(11),$e=(n(197),function(e){return{type:"GENERIC_IMAGE",payload:e}}),et=function(e){return{type:"RUN_IMAGE",payload:e}},tt=function(e){return{type:"DELETE_IMAGE",payload:e}},nt=function(){return function(e){e($e({loading:!0,pageError:!1,activeIndex:0})),L("get","image/fetch").then(function(t){e($e({loading:!1,images:t.data,pageError:!1}))}).catch(function(t){e($e({loading:!1,pageError:!0}))})}},at=function(e){return function(t){t(et({imageId:e.ID,data:{stateToggling:!0}})),L("get","image/command?image=".concat(e.ID,"&command=","run")).then(function(n){t(et({imageId:e.ID,data:{stateToggling:!1}})),k.a.success("Image ".concat(e.ID," has been started running."),{duration:5})}).catch(function(n){t(et({imageId:e.ID,data:{stateToggling:!1}})),k.a.warning("There is problem running image ".concat(e.ID),{duration:5})})}},rt=function(e,t){return function(n,a){L("get","image/command?image=".concat(e.ID,"&command=").concat(t)).then(function(t){n(tt({imageId:e.ID,showModal:!a().image.showModal,selectedImage:{}})),k.a.success("Image ".concat(e.ID," is no more!!!."),{duration:5})}).catch(function(t){n(tt({showModal:!a().image.showModal,selectedImage:{}})),k.a.danger("Image ".concat(e.ID," can not be deleted! May be used by some containers."),{duration:5})})}},ot=function(e){return function(t,n){t({type:"TOGGLE_IMAGE_MODAL",payload:{showModal:!n().image.showModal,selectedImage:e||{}}})}},it=document.getElementById("modal-root"),ct=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).el=document.createElement("div"),n.handleDelete=n.handleDelete.bind(Object(Qe.a)(n)),n}return Object(f.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){it.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){it.removeChild(this.el)}},{key:"handleDelete",value:function(){this.props.container?this.props.deleteContainer(this.props.container,"rm"):(console.log("else"),this.props.deleteImage(this.props.image,"rm"))}},{key:"render",value:function(){var e=this.props,t=e.container,n=e.image;return i.a.createPortal(r.a.createElement("div",{className:"modal",id:"deleteModal"},r.a.createElement(y.a,{display:"flex",flexDirection:"column",flexGrow:1,padding:12,borderRadius:6,border:"default",className:"modal-pane"},r.a.createElement(y.a,{display:"flex"},r.a.createElement(y.a,{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(fe.a,{size:400},"Are you sure to delete this ".concat(t?"container":"image","?"))),r.a.createElement(y.a,null,r.a.createElement(b.a,{icon:"cross",className:"modal-close",onClick:this.props.toggleModal}))),r.a.createElement(y.a,{display:"flex",alignItems:"center",justifyContent:"center"},r.a.createElement(fe.a,{size:600},t?t.Name:n.ID)),r.a.createElement(y.a,{display:"flex",marginTop:10,justifyContent:"center",alignItems:"center"},r.a.createElement(y.a,null,r.a.createElement(O.a,{marginRight:10,height:22,onClick:this.props.toggleModal},"Cancel"),r.a.createElement(O.a,{height:22,iconBefore:"trash",onClick:this.handleDelete},"Delete"))))),this.el)}}]),t}(a.Component),lt=Object(c.b)(null,function(e){return Object(S.b)({deleteContainer:z,deleteImage:rt},e)})(ct),st=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){ae.dispatch(ae.getState().stats.isLive?function(e){e(Je({isLive:!0}))}:function(e){e(Xe()),e(Je({isLive:!0})),setInterval(function(){e(Xe())},4e3)})}},{key:"render",value:function(){var e=this.props,t=e.showGroupsPage,n=e.showModal,a=e.selectedContainer,o=e.toggleDeleteModal,i=e.resetLogSideSheet,c=e.isShowingSideSheet,l=e.logData;return r.a.createElement(r.a.Fragment,null,r.a.createElement(me,null),r.a.createElement(Ke,{resetLogSideSheet:i,isShowingSideSheet:c,logData:l}),n&&r.a.createElement(lt,{container:a,toggleModal:o}),r.a.createElement("div",{className:"subnavaware-view"},t?r.a.createElement(He,null):r.a.createElement(Me,null)))}}]),t}(r.a.PureComponent),ut=Object(c.b)(function(e){return{showGroupsPage:e.groups.showGroupsPage,showModal:e.container.showModal,selectedContainer:e.container.selectedContainer,isShowingSideSheet:e.container.isShowingSideSheet,logData:e.container.logData}},function(e){return Object(S.b)({toggleDeleteModal:F,resetLogSideSheet:B},e)})(st),dt=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.image,n=e.activeIndex,a=e.genericImage,o=e.index,i=e.toggleImageDeleteModal,c=e.runImageToContainer,l=n==o;return r.a.createElement(y.a,{display:"flex",flexDirection:"column",flexGrow:1,padding:12,borderRadius:6,border:"default",className:l?"element-card card-active":"element-card",onMouseEnter:function(){return a({activeIndex:o})}},r.a.createElement(y.a,{display:"flex"},r.a.createElement(y.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(fe.a,{size:400},"".concat("<none>"!=t.Repository?t.Repository:"No Repository",": ").concat("<none>"!=t.Tag?t.Tag:"No Tag"))),r.a.createElement(he.a,{backgroundColor:"#e7e9ef",fontWeight:"bold",borderRadius:16,paddingLeft:10,fontSize:11,paddingRight:10,marginLeft:10,marginTop:3},t.ID),r.a.createElement(he.a,{backgroundColor:"#d4eee3",fontWeight:"bold",borderRadius:16,paddingLeft:10,fontSize:11,paddingRight:10,marginLeft:10,marginTop:3},t.Size),r.a.createElement(he.a,{backgroundColor:"#deebf7",fontWeight:"bold",borderRadius:16,paddingLeft:10,fontSize:11,paddingRight:10,marginLeft:10,marginTop:3},t.CreatedSince)),l&&r.a.createElement(y.a,{display:"flex",marginTop:12},r.a.createElement(O.a,{marginRight:5,height:22,iconBefore:"application",onClick:function(){c(t)},isLoading:t.stateToggling},"Run"),r.a.createElement(O.a,{marginRight:5,height:22,iconBefore:"trash",onClick:function(){i(t)}},"Delete")))}}]),t}(r.a.PureComponent),gt=Object(c.b)(function(e){return{activeIndex:e.image.activeIndex}},function(e){return Object(S.b)({genericImage:$e,toggleImageDeleteModal:ot,runImageToContainer:at},e)})(dt),pt=function(e){return r.a.createElement(y.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:20},r.a.createElement(fe.a,null,e.spinner?"Loading images. Please wait....":"No image on this machine"),e.spinner&&r.a.createElement(w.a,{marginX:"auto",marginY:120}))},mt=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.getImages()}},{key:"render",value:function(){var e=this.props,t=e.images,n=e.showModal,a=e.selectedImage,o=e.toggleImageDeleteModal;return e.loading?r.a.createElement(pt,{spinner:!0}):0==t.length?r.a.createElement(pt,null):r.a.createElement(y.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:20},n&&r.a.createElement(lt,{image:a,toggleModal:o}),t.map(function(e,t){return r.a.createElement(gt,{key:t,index:t,image:e})}))}}]),t}(r.a.PureComponent),ft=Object(c.b)(function(e){return{images:e.image.images,showModal:e.image.showModal,selectedImage:e.image.selectedImage,loading:e.image.loading}},function(e){return Object(S.b)({getImages:nt,toggleImageDeleteModal:ot},e)})(mt),ht=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft,null))}}]),t}(r.a.PureComponent),bt=function(e){return{type:"EXECUTE_PRUNE",payload:e}},yt=function(e){return function(t,n){t({type:"SELECTED_SEGMENT",payload:{segmentValue:e}})}},Ot=function(e){return function(t,n){t(bt({apiCallStarted:!0,responseData:{},isShowingSideSheet:!1})),L("get","cleanup/command?type=".concat(e)).then(function(n){t(bt({isShowingSideSheet:!!n.data,responseData:n.data,apiCallStarted:!1})),n.data||k.a.success("".concat(e," prune success"),{duration:5})}).catch(function(e){t(bt({responseData:{},isShowingSideSheet:!1,apiCallStarted:!1}))})}},jt=function(){return function(e,t){e(bt({isShowingSideSheet:!t().cleanup.isShowingSideSheet,apiCallStarted:t().cleanup.apiCallStarted}))}},Et=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.segmentOptions,n=e.selectedSegment,a=e.setSelectedCleanUpSegment;return r.a.createElement(y.a,{backgroundColor:"#f1f1f1",display:"flex",justifyContent:"center",padding:10},r.a.createElement(v.a,{width:600,height:26,options:t,value:n.value,onChange:function(e){a(e)}}))}}]),t}(r.a.PureComponent),vt=Object(c.b)(function(e){return{segmentOptions:e.cleanup.segmentOptions,selectedSegment:e.cleanup.selectedSegment}},function(e){return Object(S.b)({setSelectedCleanUpSegment:yt},e)})(Et),wt=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.selectedSegment,n=e.pruneCommand,a=e.apiCallStarted;return r.a.createElement(y.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:20},r.a.createElement(y.a,{display:"flex",flexDirection:"column",flexGrow:1,padding:12,borderRadius:6,border:"default",className:"element-card card-active"},r.a.createElement(y.a,{display:"flex"},r.a.createElement(y.a,{display:"flex"},r.a.createElement(fe.a,null,"Prune Docker ".concat(t.value,"s")))),r.a.createElement(y.a,{display:"flex",marginTop:12},r.a.createElement(Ze.a,null,t.message," ")),r.a.createElement(y.a,{display:"flex",marginTop:12},r.a.createElement(O.a,{marginRight:5,height:22,iconBefore:"trash",intent:"danger",isLoading:a,onClick:function(){n(t.value)}},"Proceed to Prune ".concat(t.value)))))}}]),t}(r.a.PureComponent),St=Object(c.b)(function(e){return{selectedSegment:e.cleanup.selectedSegment,apiCallStarted:e.cleanup.apiCallStarted}},function(e){return Object(S.b)({pruneCommand:Ot},e)})(wt),It=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.resetLogSideSheet,n=e.isShowingSideSheet,a=e.logData;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ke,{resetLogSideSheet:t,isShowingSideSheet:n,logData:a}),r.a.createElement(vt,null),r.a.createElement(St,null))}}]),t}(r.a.PureComponent),Ct=Object(c.b)(function(e){return{isShowingSideSheet:e.cleanup.isShowingSideSheet,logData:e.cleanup.responseData}},function(e){return Object(S.b)({resetLogSideSheet:jt},e)})(It),Dt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,null,r.a.createElement(E,null),r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",exact:!0,component:ut}),r.a.createElement(s.a,{path:"/containers",exact:!0,component:ut}),r.a.createElement(s.a,{path:"/images",component:ht}),r.a.createElement(s.a,{path:"/cleanup",component:Ct}))))};i.a.render(r.a.createElement(c.a,{store:ae},r.a.createElement(Dt,null)),document.getElementById("root"))},43:function(e,t,n){},84:function(e,t,n){e.exports=n(198)},89:function(e,t,n){}},[[84,1,2]]]);
//# sourceMappingURL=main.5147f23d.chunk.js.map
